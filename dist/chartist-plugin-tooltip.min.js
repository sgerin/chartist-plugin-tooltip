/* chartist-plugin-tooltip 0.0.18
 * Copyright Â© 2017 Markus Padourek
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(a,b){"function"==typeof define&&define.amd?define(["chartist"],function(c){return a.returnExportsGlobal=b(c)}):"object"==typeof exports?module.exports=b(require("chartist")):a["Chartist.plugins.tooltip"]=b(Chartist)}(this,function(a){return function(b,c){"function"==typeof define&&define.amd?define(["chartist"],function(a){return b.returnExportsGlobal=c(a)}):"object"==typeof exports?module.exports=c(require("chartist")):b["Chartist.plugins.tooltip"]=c(a)}(this,function(a){return function(a,b,c){"use strict";function d(a){f(a,"tooltip-show")||(a.className=a.className+" tooltip-show")}function e(a){var b=new RegExp("tooltip-show\\s*","gi");a.className=a.className.replace(b,"").trim()}function f(a,b){return(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")>-1}function g(a,b){do{a=a.nextSibling}while(a&&!f(a,b));return a}function h(a){return a.innerText||a.textContent}var i={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!1,class:void 0,pointClass:"ct-point",tooltipBetweenPoints:!1};c.plugins=c.plugins||{},c.plugins.tooltip=function(j){return j=c.extend({},i,j),function(i){function k(a,b,c){n.addEventListener(a,function(a){b&&!f(a.target,b)||c(a)})}function l(b){p=p||o.offsetHeight,q=q||o.offsetWidth;var c,d,e=-q/2+j.tooltipOffset.x,f=-p+j.tooltipOffset.y;if(j.appendToBody)o.style.top=n.getBoundingClientRect().bottom+p+a.pageYOffset-19+f+"px",o.style.left=b.pageX+e+"px";else{var g=n.getBoundingClientRect(),h=b.pageX-g.left-a.pageXOffset,i=b.pageY-g.top-a.pageYOffset;!0===j.anchorToPoint&&b.target.x2&&b.target.y2&&(c=parseInt(b.target.x2.baseVal.value),d=parseInt(b.target.y2.baseVal.value)),o.style.top=(d||i)+f+"px",o.style.left=(c||h)+e+"px"}}var m=j.tooltipBetweenPoints?"ct-slice-line":j.pointClass;i.constructor.name==c.Bar.prototype.constructor.name?m=j.tooltipBetweenPoints?"ct-slice-line":"ct-bar":i.constructor.name==c.Pie.prototype.constructor.name&&(m=i.options.donut?"ct-slice-donut":"ct-slice-pie");var n=i.container,o=n.querySelector(".chartist-tooltip");o||(o=b.createElement("div"),o.className=j.class?"chartist-tooltip "+j.class:"chartist-tooltip",j.appendToBody?b.body.appendChild(o):n.appendChild(o));var p=o.offsetHeight,q=o.offsetWidth;e(o),k("mouseover",m,function(a){if(j.tooltipBetweenPoints){var e=a.target,f="",k=e.getAttribute("ct:metas").split(","),m=e.getAttribute("ct:values").split(","),n=!!k;if(j.transformTooltipTextFnc&&"function"==typeof j.transformTooltipTextFnc&&(m=j.transformTooltipTextFnc(m)),j.tooltipFnc&&"function"==typeof j.tooltipFnc)f=j.tooltipFnc(k,m);else{if(j.metaIsHTML){var r=b.createElement("textarea");r.innerHTML=k.join(""),k=r.value}k='<span class="chartist-tooltip-meta">'+k.join("")+"</span>",n&&(f+=k+"<br>"),m&&(j.currency&&(m=void 0!=j.currencyFormatCallback?j.currencyFormatCallback(m,j):j.currency+m.map(function(a){return a.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")})),m='<span class="chartist-tooltip-value">'+m.join(" ")+"</span>",f+=m)}}else{var s=a.target,f="",t=i instanceof c.Pie?s:s.parentNode,u=t?s.parentNode.getAttribute("ct:meta")||s.parentNode.getAttribute("ct:series-name"):"",v=s.getAttribute("ct:meta")||u||"",n=!!v,w=s.getAttribute("ct:value");if(j.transformTooltipTextFnc&&"function"==typeof j.transformTooltipTextFnc&&(w=j.transformTooltipTextFnc(w)),j.tooltipFnc&&"function"==typeof j.tooltipFnc)f=j.tooltipFnc(v,w);else{if(j.metaIsHTML){var r=b.createElement("textarea");r.innerHTML=v,v=r.value}if(v='<span class="chartist-tooltip-meta">'+v+"</span>",n)f+=v+"<br>";else if(i instanceof c.Pie){var x=g(s,"ct-label");x&&(f+=h(x)+"<br>")}w&&(j.currency&&(w=void 0!=j.currencyFormatCallback?j.currencyFormatCallback(w,j):j.currency+w.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),w='<span class="chartist-tooltip-value">'+w+"</span>",f+=w)}}f&&(o.innerHTML=f,l(a),d(o),p=o.offsetHeight,q=o.offsetWidth)}),k("mouseout",m,function(){e(o)}),k("mousemove",null,function(a){!1===j.anchorToPoint&&l(a)})}}}(window,document,a),a.plugins.tooltip}),a.plugins.tooltip});
//# sourceMappingURL=chartist-plugin-tooltip.min.js.map